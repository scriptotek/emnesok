
<div style="border: 1px solid #eee;">

    <div style="padding: 1em;">
        <div>
            <strong>
                {{ vm.subject.notation }} {{ vm.subject.getPrefLabel() }}
                <!--
                    <span ng-show="vm.subject.elementSymbol"> ({{vm.subject.elementSymbol}}) <img src="./assets/element.png" title="{{'Chemical element' | translate}}"></span>
                -->
            </strong>
        </div>

        <div class="block definition" ng-show="vm.subject.get('definition')">
            {{ vm.subject.get('definition.' + vm.lang) }}
        </div>

        <div class="block" ng-show="vm.subject.get('altLabel.' + vm.lang)">
            <span translate>Used for:</span>
            <span class="term" ng-repeat-start="label in vm.subject.get('altLabel.' + vm.lang)">{{ label }}</span>
            <span class="term_separator" ng-repeat-end></span>
        </div>

        <div class="block">
            <div ng-repeat="lang in vm.subject.get('prefLabel') | objectKeys | filter: '!'+vm.lang">
                {{ vm.languageLabels[lang] }}: {{ vm.subject.get('prefLabel.' + lang) }}
                <span ng-show="vm.subject.get('altLabel.' + lang).length" class="alt_trans">
                    (<span translate>Used for:</span>
                    <span class="term_separator" ng-repeat="label in vm.subject.get('altLabel.' + lang)">{{label}}</span>)
                </span>
            </div>
        </div>

        <div class="block" ng-show="vm.subject.get('related').length">
            <span translate>See also:</span>
            <span ng-repeat="related in vm.subject.get('related') | orderBy:'prefLabel'">
                <a class="subject-tag" ng-class="{ geographic: related.type == 'Geographic', genre: related.type == 'GenreForm' }" ui-sref="subject.search({ term: null, id: null, uri: related.uri })">{{ related.notation }} {{ related.getPrefLabel() }}</a>
            </span>
        </div>

        <div class="block" ng-show="vm.subject.broader.length">
            <span translate>Broader:</span>
            <span ng-repeat="broader in vm.subject.broader | orderBy:'prefLabel'">
                <a class="subject-tag" ng-class="{ geographic: broader.type == 'Geographic', genre: broader.type == 'GenreForm' }" ui-sref="subject.search({ term: null, id: null, uri: broader.uri })">{{broader.notation }} {{ broader.getPrefLabel() }}</a>
            </span>
        </div>

        <div class="block" ng-show="vm.subject.narrower.length">
            <span translate>Narrower:</span>
            <span ng-repeat="narrower in vm.subject.narrower | orderBy:'prefLabel'">
                <a class="subject-tag" ng-class="{ geographic: narrower.type == 'Geographic', genre: narrower.type == 'GenreForm' }" ui-sref="subject.search({ term: null, id: null, uri: narrower.uri })">{{ narrower.notation }} {{ narrower.getPrefLabel() }}</a>
            </span>
        </div>

        <div ng-show="vm.subject.externals.length">
            <ul class="list-group">
                <li class="list-group-item external" ng-if="external.type!='no result'" ng-repeat="external in vm.subject.externals | filter: {name:''} | orderBy:'name'">
                    {{external.extract}}
                    <a ng-if="external.type=='exact'" href="{{ external.url }}" target="external" translate>Read more in {{external.name}}</a>
                    <a ng-if="external.type=='search'" href="{{ external.url }}" target="external" translate>Search in {{external.name}}</a>

                </li>
            </ul>
        </div>
        <p style="font-size:80%; text-align:right; margin: 0;">
            <span ng-show="vm.subject.feedbackUri()">
                <a ng-href="{{ vm.subject.feedbackUri() }}" target="external" translate>» Report problem</a>
            </span>
        </p>
    </div>

    <app-wikidata :mapping="vm.subject.wikidata" :subject="vm.subject"></app-wikidata>

    <div style="padding:1em; border-top: 1px solid #eee; font-size: 90%; background: #fafafa" v-if="vm.subject.mappings.length">
        <div>From other vocabularies:</div>
        <ul style="margin: 0;">
            <li ng-repeat="mapping in vm.subject.mappings">
                <span>{{ mapping.typeLabel }}</span>
                <a ui-sref="subject.search({ vocab: mapping.to.vocabulary, term: null, id: null, uri: mapping.to.uri })">
                    {{ mapping.to.notation }} {{ mapping.to.getPrefLabel() }}
                </a>
                <span>i {{ mapping.to.vocabularyLabel }}</span>
            </li>
        </ul>
        <p style="font-size:80%; text-align:right; margin: 0;">
            <a ng-href="{{ vm.subject.uri }}" target="external" translate>» View in Skosmos</a>
        </p>
    </div>
</div>

